Drop database LIBRARYMANAGEMENT;
Create database LIBRARYMANAGEMENT;
Use librarymanagement;
Create table BOOKS(BOOK_ID INT NOT NULL, AUTHOR_ID INT NOT NULL, PRICE INT NOT NULL, RELEASE_DATE DATE, STATUS_ID INT NOT NULL, PRIMARY KEY( BOOK_ID));
CREATE TABLE STATUS(STATUS_ID INT NOT NULL, STATUS_TYPE CHAR NOT NULL, PRIMARY KEY (STATUS_ID));
CREATE TABLE ADMIN(ADMIN_ID INT NOT NULL, NAME VARCHAR(50) NOT NULL, GENDER CHAR NOT NULL, EMAIL VARCHAR(25) NOT NULL, LOGIN CHAR NOT NULL, LOGOUT CHAR NOT NULL, PRIMARY KEY (ADMIN_ID));
CREATE TABLE PERSON( PERSON_ID INT NOT NULL, FIRST_NAME CHAR NOT NULL, LAST_NAME CHAR NOT NULL, PHONE_NUMBER INT(15) NOT NULL, EMAIL VARCHAR(25) NOT NULL, ADDRESS VARCHAR(20) NOT NULL, ADMIN_ID INT NOT NULL, PRIMARY KEY(PERSON_ID), FOREIGN KEY(ADMIN_ID) REFERENCES ADMIN(ADMIN_ID));
CREATE TABLE AUTHOR(AUTHOR_ID INT NOT NULL, NAME VARCHAR(20) NOT NULL, BOOK_NAME VARCHAR(20) NOT NULL, STATUS_ID INT NOT NULL, PRIMARY KEY (AUTHOR_ID), FOREIGN KEY (STATUS_ID) REFERENCES STATUS(STATUS_ID));
CREATE TABLE LANGUAGE(BOOK_ID INT NOT NULL, LANGUAGE_CODE INT NOT NULL, STATUS_ID INT NOT NULL, PRIMARY KEY (LANGUAGE_CODE), FOREIGN KEY (BOOK_ID) REFERENCES BOOKS(BOOK_ID), FOREIGN KEY (STATUS_ID) REFERENCES STATUS (STATUS_ID));
CREATE TABLE TRANSACTION(TRANSACTION_ID INT NOT NULL, PERSON_ID INT NOT NULL, ADMIN_ID INT NOT NULL, DUE_DATE DATE NOT NULL, CHECKIN_DATE DATE, CHECKOUT_DATE DATE, PRIMARY KEY (TRANSACTION_ID), FOREIGN KEY (PERSON_ID) REFERENCES PERSON (PERSON_ID), FOREIGN KEY (ADMIN_ID) REFERENCES ADMIN (ADMIN_ID));
CREATE TABLE BOOK_RENTAL(BOOK_ID INT NOT NULL, TRANSACTION_ID INT NOT NULL, PRIMARY KEY (BOOK_ID, TRANSACTION_ID), FOREIGN KEY (BOOK_ID) REFERENCES BOOKS (BOOK_ID),FOREIGN KEY (TRANSACTION_ID) REFERENCES TRANSACTION (TRANSACTION_ID));
INSERT INTO BOOKS (BOOK_ID, AUTHOR_ID, PRICE, RELEASE_DATE, STATUS_ID) VALUES (123, 3736, 100, '2006-05-11', 001);
INSERT INTO BOOKS (BOOK_ID, AUTHOR_ID, PRICE, RELEASE_DATE, STATUS_ID) VALUES (202, 3636, 170, '10-12-2008', 002);
INSERT INTO BOOKS (BOOK_ID, AUTHOR_ID, PRICE, RELEASE_DATE, STATUS_ID) VALUES (005, 3210, 200, '2005-01-10', 003);
INSERT INTO BOOKS (BOOK_ID, AUTHOR_ID, PRICE, RELEASE_DATE, STATUS_ID) VALUES (007, 3100, 600, '2004-10-02', 004);
INSERT INTO STATUS (STATUS_ID, STATUS_TYPE) VALUES(001,'Y');
INSERT INTO STATUS (STATUS_ID, STATUS_TYPE) VALUES(002,'Y');
INSERT INTO STATUS (STATUS_ID, STATUS_TYPE) VALUES(003,'N');
INSERT INTO STATUS (STATUS_ID, STATUS_TYPE) VALUES(004,'N');
INSERT INTO ADMIN (ADMIN_ID, NAME, GENDER, EMAIL, LOGIN, LOGOUT) VALUES (1406,'SHALINI','F','SHALINI@LIBRARY.COM', 'N','Y');
INSERT INTO PERSON( PERSON_ID, FIRST_NAME, LAST_NAME, PHONE_NUMBER, EMAIL, ADDRESS, ADMIN_ID) VALUES (7605,'GOUTHAMI','KOTHAKAPU',618930589,'KOTHAKAPU@SCHOOL.COM','LOCUST STREET',1403);
INSERT INTO PERSON( PERSON_ID, FIRST_NAME, LAST_NAME, PHONE_NUMBER, EMAIL, ADDRESS, ADMIN_ID) VALUES (7606,'ANUSHA','BALE',618930515,'BALE@SCHOOL.COM','LOCUST STREET',1406);
INSERT INTO PERSON( PERSON_ID, FIRST_NAME, LAST_NAME, PHONE_NUMBER, EMAIL, ADDRESS, ADMIN_ID) VALUES (7607,'SUDEEPTHI','MALLA',61952505,'MALLA@SCHOOL.COM','LOCUST STREET',1403);
INSERT INTO AUTHOR(AUTHOR_ID, NAME, BOOK_NAME, STATUS_ID) VALUES (3736, 'EDWARD','LITTLEMONSTER',001);
INSERT INTO AUTHOR(AUTHOR_ID, NAME, BOOK_NAME, STATUS_ID) VALUES (3636, 'DAVID','LAZYMONKEY',002);
INSERT INTO AUTHOR(AUTHOR_ID, NAME, BOOK_NAME, STATUS_ID) VALUES (3210, 'MIKE','PUSSYCATS',003);
INSERT INTO LANGUAGE(BOOK_ID , LANGUAGE_CODE , STATUS_ID ) VALUES (5, 101,001);
INSERT INTO LANGUAGE(BOOK_ID , LANGUAGE_CODE , STATUS_ID ) VALUES (7, 201,002);
INSERT INTO LANGUAGE(BOOK_ID , LANGUAGE_CODE , STATUS_ID ) VALUES (123, 301,003);
INSERT INTO TRANSACTION(TRANSACTION_ID, PERSON_ID, ADMIN_ID, DUE_DATE, CHECKIN_DATE, CHECKOUT_DATE) VALUES (1,7605,1403,'2021-11-12','2020-05-06','2020-05-06' );
INSERT INTO TRANSACTION(TRANSACTION_ID, PERSON_ID, ADMIN_ID, DUE_DATE, CHECKIN_DATE, CHECKOUT_DATE) VALUES (11,7606,1406,'2020-11-12','2020-07-06','2020-08-08' );
INSERT INTO TRANSACTION(TRANSACTION_ID, PERSON_ID, ADMIN_ID, DUE_DATE, CHECKIN_DATE, CHECKOUT_DATE) VALUES (101,7607,1406,'2021-10-12','2020-11-11','2020-09-03' );
INSERT INTO BOOK_RENTAL(BOOK_ID, TRANSACTION_ID ) VALUES (5,101);
INSERT INTO BOOK_RENTAL(BOOK_ID, TRANSACTION_ID ) VALUES (7,11);
INSERT INTO BOOK_RENTAL(BOOK_ID, TRANSACTION_ID ) VALUES (123,1);










